#!/usr/bin/expect -f

# Spawn the cai process
spawn cai

# Wait for the CAI> prompt
expect "CAI>"

# Send the command
send "/mcp load http://mcp-server:8085/sse ms\r"

# Wait for the success message
expect "Successfully connected"

# Introduce a delay (e.g., 5 seconds)
sleep 5

# Send Ctrl+C to interrupt the process
send_user "\003"  # \003 is the ASCII code for Ctrl+C

# Optionally, wait for any cleanup or exit message
expect eof
